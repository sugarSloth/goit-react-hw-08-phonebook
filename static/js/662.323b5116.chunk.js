"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[662],{5589:function(e,n,t){var r=t(2392),a=t(4224),s=t(184);n.Z=function(e){var n=e.children,t=e.handleSubmit,i=e.buttonText;return(0,s.jsxs)(r.NI,{as:"form",onSubmit:t,textAlign:"center",mb:"16px",children:[n,(0,s.jsx)(a.z,{type:"submit",mt:"12px",children:i})]})}},5139:function(e,n,t){var r=t(8206),a=t(8208),s=t(5442),i=(t(2791),t(184));n.Z=function(e){var n=e.type,t=e.name,o=e.label,c=e.pattern,l=e.title,u=e.value,d=e.styles;return(0,i.jsxs)(r.W,{textAlign:"start",children:[(0,i.jsx)(a.l,{htmlFor:t,sx:d,display:"inline",children:o}),(0,i.jsx)(s.I,{sx:d,mb:"16px",focusBorderColor:"purple",defaultValue:u,type:n,name:t,id:t,pattern:c,title:l,required:!0})]})}},5662:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r=t(9439),a=t(9085),s=t(9434),i=t(3634),o=function(e){return e.contacts.isLoading},c=function(e){return e.contacts.error},l=function(e){return e.contacts.items},u=function(e){return e.contacts.currentContact},d=function(e){var n=l(e),t=function(e){return e.filter.value}(e);return void 0===n||void 0===t?[]:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},x=t(5589),p=t(5139),m=t(8206),h=t(184);function f(){var e=(0,s.v9)(l),n=(0,s.I0)();return(0,h.jsx)(m.W,{border:"1px solid",borderColor:"purple",borderRadius:"8px",mt:"30px",pt:"20px",children:(0,h.jsxs)(x.Z,{handleSubmit:function(t){t.preventDefault();var r=t.currentTarget,s=r.elements.name.value,o=r.elements.phone.value;e.find((function(e){return e.name.toLowerCase()===s.toLowerCase()}))?(a.Am.info("".concat(s," is already in contacts")),r.reset()):(n((0,i.uK)({name:s,number:o})).unwrap().then((function(){return a.Am.success("".concat(s," successfully added!"))})).catch((function(){return a.Am.error("Something went wrong, ".concat(s," not added. Try again."))})),r.reset())},buttonText:"Add contact",children:[(0,h.jsx)(p.Z,{styles:{display:"inline",maxWidth:"320px"},type:"text",name:"name",label:"Name",pattern:"^[\\\\sa-zA-Z'-]*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,h.jsx)(p.Z,{styles:{display:"inline",maxWidth:"320px"},type:"tel",name:"phone",label:"Phone",pattern:"[\\+]\\d{2}\\s[\\(]\\d{3}[\\)]\\s\\d{3}[\\-]\\d{2}[\\-]\\d{2}",title:"Format: +38 (xxx) xxx-xx-xx"})]})})}var v=t(5861),j=t(4687),b=t.n(j),y=t(2791),g=t(114),C=t(9327),w=t(1844),A=t(7885),k=t(7840),Z=function(e){var n=e.id,t=e.name,r=e.number,a=e.handleDeleteButton,i=e.onOpen,o=(0,s.I0)();return(0,h.jsxs)(w.HC,{mb:"12px",children:[t,": ",r,(0,h.jsx)(A.h,{onClick:function(){i(),o((0,k.Ku)({id:n,name:t,number:r}))},"aria-label":"Edit current contact",icon:(0,h.jsx)(g.d,{}),size:"sm",variant:"outline",ml:"16px"}),(0,h.jsx)(A.h,{onClick:function(){a(n,t)},"aria-label":"Delete current contact",icon:(0,h.jsx)(C.p,{}),size:"sm",variant:"outline",ml:"16px"})]})},F=t(2347),S=t(176),z=t(3204),I=function(){return(0,h.jsx)(S.k,{justify:"center",alignItems:"center",pt:"24px",children:(0,h.jsx)(z.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})})};function O(e){var n=e.onOpen,t=(0,s.I0)(),r=(0,s.v9)(d),u=(0,s.v9)(l),x=(0,s.v9)(o),p=(0,s.v9)(c);(0,y.useEffect)((function(){t((0,i.yF)())}),[t]);var f=function(){var e=(0,v.Z)(b().mark((function e(n,r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t((0,i.GK)(n)).unwrap();case 3:a.Am.success("".concat(r," successfully deleted!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a.Am.error("Something went wrong, ".concat(r," not deleted. Try again"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}();return(0,h.jsx)(m.W,{mt:"16px",children:function(){if(x)return(0,h.jsx)(I,{});if(p)return(0,h.jsx)(F.x,{children:p});if(x||p||0!==u.length){var e=r.length>0?r:u;return(0,h.jsx)(w.aV,{children:e.map((function(e){var t=e.id,r=e.name,a=e.number;return(0,h.jsx)(Z,{handleDeleteButton:f,id:t,name:r,number:a,onOpen:n},t)}))})}return(0,h.jsx)(F.x,{children:"You don't have contacts yet"})}()})}var _=t(8208),T=t(5442);function B(){var e=(0,s.I0)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(_.l,{htmlFor:"filter",display:"inline",w:"210px",children:"Find contacts by name:"}),(0,h.jsx)(T.I,{display:"inline",type:"text",name:"filter",id:"filter",onChange:function(n){var t=n.target.value;e((0,k.xO)(t))},focusBorderColor:"purple"})]})}var L=t(8348),N=t(5946),W=t(9975),D=t(581),E=t(3182),K=t(1211),P=t(7970),$=t(1216),q=t(2392),G=t(4224),J={display:"inline",maxWidth:"400px"},M=function(e){var n=e.isOpen,t=e.onClose,r=(0,s.I0)(),o=(0,s.v9)(u),c=o.id,l=o.name,d=o.number;return(0,h.jsxs)(W.u_,{isOpen:n,onClose:t,children:[(0,h.jsx)(D.Z,{}),(0,h.jsxs)(E.h,{children:[(0,h.jsx)(K.x,{children:"Edit contact"}),(0,h.jsx)(P.o,{}),(0,h.jsx)($.f,{children:(0,h.jsxs)(q.NI,{as:"form",onSubmit:function(e){e.preventDefault();var n=e.currentTarget,s=n.elements.name.value,o=n.elements.phone.value;if(l!==s||d!==o){var u={id:c,name:s,number:o};r((0,i.mP)(u)).unwrap().then((function(){return a.Am.success("".concat(s," successfully edited!"))})).catch((function(){return a.Am.error("Something went wrong, ".concat(s," not edited. Try again."))})),t()}else a.Am.info("Any changes edited.")},textAlign:"center",mb:"16px",children:[(0,h.jsx)(p.Z,{styles:J,type:"text",name:"name",label:"Name",value:l,pattern:"^[\\\\sa-zA-Z'-]*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,h.jsx)(p.Z,{styles:J,type:"tel",name:"phone",label:"Phone",value:d,pattern:"[\\+]\\d{2}\\s[\\(]\\d{3}[\\)]\\s\\d{3}[\\-]\\d{2}[\\-]\\d{2}",title:"Format: +38 (xxx) xxx-xx-xx"}),(0,h.jsx)(G.z,{onClick:t,variant:"ghost",mr:3,children:"Go back"}),(0,h.jsx)(G.z,{type:"submit",colorScheme:"purple",children:"Save changes"})]})})]})]})},V=function(){var e=(0,s.v9)(d),n=(0,L.q)(),t=n.onOpen,a=n.isOpen,i=n.onClose,o=(0,y.useState)(!0),c=(0,r.Z)(o,2),l=c[0],u=c[1],x=(0,y.useState)(0),p=(0,r.Z)(x,2),m=p[0],v=p[1];return(0,y.useEffect)((function(){u(!1),v(e.length)}),[e]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(M,{isOpen:a,onClose:i}),(0,h.jsx)(f,{}),l?(0,h.jsx)("p",{children:"Loading..."}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(N.X,{as:"h3",mt:"30px",mb:"30px",children:["Contacts (",m,")"]}),(0,h.jsx)(B,{}),(0,h.jsx)(O,{onOpen:t})]})]})}}}]);
//# sourceMappingURL=662.323b5116.chunk.js.map