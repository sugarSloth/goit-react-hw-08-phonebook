"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[662],{5589:function(e,n,t){var r=t(2392),a=t(4224),s=t(184);n.Z=function(e){var n=e.children,t=e.handleSubmit,i=e.buttonText;return(0,s.jsxs)(r.NI,{as:"form",onSubmit:t,textAlign:"center",mb:"16px",children:[n,(0,s.jsx)(a.z,{type:"submit",mt:"12px",children:i})]})}},5139:function(e,n,t){var r=t(8206),a=t(8208),s=t(5442),i=(t(2791),t(184));n.Z=function(e){var n=e.type,t=e.name,o=e.label,c=e.pattern,l=e.title,u=e.value,d=e.styles;return(0,i.jsxs)(r.W,{textAlign:"start",children:[(0,i.jsx)(a.l,{htmlFor:t,sx:d,display:"inline",children:o}),(0,i.jsx)(s.I,{sx:d,mb:"16px",focusBorderColor:"purple",defaultValue:u,type:n,name:t,id:t,pattern:c,title:l,required:!0})]})}},5662:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(9085),a=t(9434),s=t(3634),i=function(e){return e.contacts.isLoading},o=function(e){return e.contacts.error},c=function(e){return e.contacts.items},l=function(e){return e.contacts.currentContact},u=function(e){var n=c(e),t=function(e){return e.filter.value}(e);return void 0===n||void 0===t?[]:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},d=t(5589),x=t(5139),p=t(8206),m=t(184);function h(){var e=(0,a.v9)(c),n=(0,a.I0)();return(0,m.jsx)(p.W,{border:"1px solid",borderColor:"purple",borderRadius:"8px",mt:"30px",pt:"20px",children:(0,m.jsxs)(d.Z,{handleSubmit:function(t){t.preventDefault();var a=t.currentTarget,i=a.elements.name.value,o=a.elements.phone.value;e.find((function(e){return e.name.toLowerCase()===i.toLowerCase()}))&&(r.Am.info("".concat(i," is already in contacts")),a.reset()),n((0,s.uK)({name:i,number:o})).unwrap().then((function(){return r.Am.success("".concat(i," successfully added!"))})).catch((function(){return r.Am.error("Something went wrong, ".concat(i," not added. Try again."))})),a.reset()},buttonText:"Add contact",children:[(0,m.jsx)(x.Z,{styles:{display:"inline",maxWidth:"320px"},type:"text",name:"name",label:"Name",pattern:"^[\\\\sa-zA-Z'-]*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,m.jsx)(x.Z,{styles:{display:"inline",maxWidth:"320px"},type:"tel",name:"phone",label:"Phone",pattern:"[\\+]\\d{2}\\s[\\(]\\d{3}[\\)]\\s\\d{3}[\\-]\\d{2}[\\-]\\d{2}",title:"Format: +38 (xxx) xxx-xx-xx"})]})})}var f=t(5861),v=t(4687),j=t.n(v),b=t(2791),y=t(114),g=t(9327),C=t(1844),w=t(7885),A=t(7840),k=function(e){var n=e.id,t=e.name,r=e.number,s=e.handleDeleteButton,i=e.onOpen,o=(0,a.I0)();return(0,m.jsxs)(C.HC,{mb:"12px",children:[t,": ",r,(0,m.jsx)(w.h,{onClick:function(){i(),o((0,A.Ku)({id:n,name:t,number:r}))},"aria-label":"Edit current contact",icon:(0,m.jsx)(y.d,{}),size:"sm",variant:"outline",ml:"16px"}),(0,m.jsx)(w.h,{onClick:function(){s(n,t)},"aria-label":"Delete current contact",icon:(0,m.jsx)(g.p,{}),size:"sm",variant:"outline",ml:"16px"})]})},Z=t(2347),z=t(176),F=t(3204),I=function(){return(0,m.jsx)(z.k,{justify:"center",alignItems:"center",pt:"24px",children:(0,m.jsx)(F.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})})};function O(e){var n=e.onOpen,t=(0,a.I0)(),l=(0,a.v9)(u),d=(0,a.v9)(c),x=(0,a.v9)(i),h=(0,a.v9)(o);(0,b.useEffect)((function(){t((0,s.yF)())}),[t]);var v=function(){var e=(0,f.Z)(j().mark((function e(n,a){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t((0,s.GK)(n)).unwrap();case 3:r.Am.success("".concat(a," successfully deleted!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r.Am.error("Something went wrong, ".concat(a," not deleted. Try again"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}();return(0,m.jsx)(p.W,{mt:"16px",children:function(){if(x)return(0,m.jsx)(I,{});if(h)return(0,m.jsx)(Z.x,{children:h});if(x||h||0!==d.length){var e=l.length>0?l:d;return(0,m.jsx)(C.aV,{children:e.map((function(e){var t=e.id,r=e.name,a=e.number;return(0,m.jsx)(k,{handleDeleteButton:v,id:t,name:r,number:a,onOpen:n},t)}))})}return(0,m.jsx)(Z.x,{children:"You don't have contacts yet"})}()})}var S=t(8208),_=t(5442);function T(){var e=(0,a.I0)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(S.l,{htmlFor:"filter",display:"inline",w:"210px",children:"Find contacts by name:"}),(0,m.jsx)(_.I,{display:"inline",type:"text",name:"filter",id:"filter",onChange:function(n){var t=n.target.value;e((0,A.xO)(t))},focusBorderColor:"purple"})]})}var B=t(8348),N=t(5946),W=t(9975),D=t(581),L=t(3182),E=t(1211),K=t(7970),P=t(1216),$=t(2392),q=t(4224),G={display:"inline",maxWidth:"400px"},J=function(e){var n=e.isOpen,t=e.onClose,i=(0,a.I0)(),o=(0,a.v9)(l),c=o.id,u=o.name,d=o.number;return(0,m.jsxs)(W.u_,{isOpen:n,onClose:t,children:[(0,m.jsx)(D.Z,{}),(0,m.jsxs)(L.h,{children:[(0,m.jsx)(E.x,{children:"Edit contact"}),(0,m.jsx)(K.o,{}),(0,m.jsx)(P.f,{children:(0,m.jsxs)($.NI,{as:"form",onSubmit:function(e){e.preventDefault();var n=e.currentTarget,a=n.elements.name.value,o=n.elements.phone.value;if(u!==a||d!==o){var l={id:c,name:a,number:o};i((0,s.mP)(l)).unwrap().then((function(){return r.Am.success("".concat(a," successfully edited!"))})).catch((function(){return r.Am.error("Something went wrong, ".concat(a," not edited. Try again."))})),t()}else r.Am.info("Any changes edited.")},textAlign:"center",mb:"16px",children:[(0,m.jsx)(x.Z,{styles:G,type:"text",name:"name",label:"Name",value:u,pattern:"^[\\\\sa-zA-Z'-]*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,m.jsx)(x.Z,{styles:G,type:"tel",name:"phone",label:"Phone",value:d,pattern:"[\\+]\\d{2}\\s[\\(]\\d{3}[\\)]\\s\\d{3}[\\-]\\d{2}[\\-]\\d{2}",title:"Format: +38 (xxx) xxx-xx-xx"}),(0,m.jsx)(q.z,{onClick:t,variant:"ghost",mr:3,children:"Go back"}),(0,m.jsx)(q.z,{type:"submit",colorScheme:"purple",children:"Save changes"})]})})]})]})},M=function(){var e=(0,a.v9)(u),n=(0,B.q)(),t=n.onOpen,r=n.isOpen,s=n.onClose;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(J,{isOpen:r,onClose:s}),(0,m.jsx)(h,{}),(0,m.jsxs)(N.X,{as:"h3",mt:"30px",mb:"30px",children:["Contacts (",e.length,")"]}),(0,m.jsx)(T,{}),(0,m.jsx)(O,{onOpen:t})]})}}}]);
//# sourceMappingURL=662.63aee174.chunk.js.map